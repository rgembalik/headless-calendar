import{h as n,C as p,a as w,b as f}from"./index.d2a4c544.js";import{r as m}from"./index.3284556e.js";import{j as e,a as r,F as x}from"./jsx-runtime.b03f6d4f.js";import"./iframe.18893e99.js";const l=[{background:"#ff6464",foreground:"hsl(0deg 85% 35%)"},{background:"#ffbd67",foreground:"hsl(34deg 100% 35%)"},{background:"#5be7a9",foreground:"hsl(153deg 74% 25%)"},{background:"#f8fe85",foreground:"hsl(63deg 98% 30%)"}],y=[{start:n().hour(9).startOf("hour"),end:n().hour(10).startOf("hour"),title:"Event now",backgroundColor:l[0].background,color:l[0].foreground},{start:n().hour(13).startOf("hour"),end:n().hour(15).startOf("hour"),title:"Event now2",backgroundColor:l[1].background,color:l[1].foreground},{start:n().subtract(1,"days").hour(9).minute(30),end:n().subtract(1,"days").hour(10).endOf("hour"),title:"Event yesterday",backgroundColor:l[2].background,color:l[2].foreground}],S=v=>{const[g,C]=m.exports.useState(p.WEEK),{startHour:c=0,endHour:u=24}=v,[b,N]=m.exports.useState(n()),E=m.exports.useMemo(()=>[p.MONTH,p.WEEK].filter(s=>s!=g),[g]);return m.exports.useEffect(()=>{const s=setInterval(()=>{N(n())},6e4);return()=>clearInterval(s)},[]),e(w,{mode:g,events:y,children:({prev:s,next:O,currentDate:k,setCurrentDate:M})=>r("div",{className:"calendar-view",children:[e("p",{children:E.map(o=>r("button",{onClick:()=>C(o),children:["Switch to ",o," view"]},o))}),r("p",{children:[e("button",{onClick:s,children:"\u2190"}),e("input",{type:"date",value:k.toISOString().split("T")[0],onChange:o=>M(new Date(o.target.value))}),e("button",{onClick:O,children:"\u2192"})]}),e(w.WeekMode,{startHour:c,endHour:u,children:(o,i)=>r("div",{className:"week-container",children:[r("div",{className:"week-day-lines",style:{gridColumn:"1 / 9",gridRow:"1"},children:[e("div",{className:"week-day-header"}),Array(Math.max(0,u-c)).fill(0).map((t,d)=>e("div",{className:"week-hour-marker",style:{height:`calc( ( 100% - 3em ) / ${u-c})`},children:n().hour(c+d).format("ha")},c+d))]}),o.map((t,d)=>{var h;return r("div",{className:"week-day",style:{gridColumn:`${d+2}`},children:[r("div",{className:"week-day-header",children:[e("div",{children:t.date.format("dddd")}),e("div",{children:t.date.format("ll")})]}),r("div",{className:"week-day-event-container",children:[(h=t.events)==null?void 0:h.map(a=>r("div",{className:"week-day-event",style:{backgroundColor:a.backgroundColor,color:a.color,top:`${i(a.start)*100}%`,height:`${a.end?(i(a.end)-i(a.start))*100+"%":"auto"}`},children:[e("div",{children:a.title}),e("div",{children:n(a.start).format("LT")})]},a.start.unix())),b.isSame(t.date,"day")&&e("div",{className:"week-day-now",style:{top:`${i(b)*100}%`}})]})]},t.date.unix())})]})}),e(w.MonthMode,{children:o=>r("div",{className:"month-container",children:[e(f,{currentDate:o[0].start,children:i=>r(x,{children:[e("div",{className:"month-week-day--header"}),i.map(t=>e("div",{className:"month-week-day month-week-day--header",children:t.date.format("dd")},t.date.unix()))]})},`header-${o[0].start.unix()}`),o.map(i=>e(f,{currentDate:i.start,events:y,children:t=>r(x,{children:[r("div",{className:"month-week-number",children:[i.start.week(),"."]}),t.map(d=>{var h;return r("div",{className:["month-week-day",!d.date.isSame(k,"month")&&"month-week-day--other-month",d.date.isSame(n(),"day")&&"month-week-day--current-day",[0,6].indexOf(d.date.day())>=0&&"month-week-day--weekend-day"].join(" "),children:[d.date.format("ll"),(h=d.events)==null?void 0:h.map(a=>e("div",{className:"month-week-day-event",style:{backgroundColor:a.color},children:e("div",{children:a.title})},a.start.unix()))]},d.date.unix())})]})},i.start.unix()))]})})]})})},$=S.bind({});$.args={startHour:8,endHour:20};const W=["CalendarView"];export{$ as CalendarView,W as __namedExportsOrder};
//# sourceMappingURL=CalendarView.stories.44bda606.js.map
